<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>tela inicial</title>
   <!--Bootstrap CSS via CDN-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
  
    <link rel="stylesheet" href="../css/style.css" />
  
   
  </head>
<body class="bg-light">


  <!-- =================== MENU SUPERIOR =================== -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-custom px-3">
    <!-- Marca/Logo -->
    <a class="navbar-brand" href="index.html">
      <img src="../IMG/logotr.png" alt="Logo JR Espetos" class="logo-menu">
    </a>

    <!-- Botão responsivo -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Links do menu -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="perfil.html">Perfil</a></li>
        <li class="nav-item"><a class="nav-link active" href="carrinho.html">Carrinho</a></li>
      </ul>
    </div>
  </nav>
 

<!-- ================= CARROSSEL DE BANNERS ================= -->
<section class="container my-3">
  <div id="carouselBanners" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner" id="bannersContainer">
      <!-- Os banners serão carregados dinamicamente via JavaScript -->
    </div>

    <!-- Botões de navegação -->
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselBanners" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselBanners" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Próximo</span>
    </button>
  </div>
</section>

<!-- Script de carregamento dos banners -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  fetch('../PHP/banners.php?listar=1')
    .then(response => response.json())
    .then(data => {
      if (!data.ok) return;
      const container = document.getElementById('bannersContainer');
      container.innerHTML = '';

      data.banners.forEach((banner, index) => {
        const activeClass = index === 0 ? 'active' : '';
        const imgSrc = banner.imagem
          ? `data:image/jpeg;base64,${banner.imagem}`
          : '../IMG/banner1.png';

        const item = `
          <div class="carousel-item ${activeClass}">
            <img src="${imgSrc}" class="d-block w-100 rounded" alt="${banner.nome}">
            <div class="carousel-caption d-none d-md-block">
              <h5>${banner.nome}</h5>
              <p>${banner.situacao === 'sim' ? 'Promoção ' : ''}</p>
            </div>
          </div>
        `;
        container.innerHTML += item;
      });
    })
    .catch(err => console.error('Erro ao carregar banners:', err));
});
</script>
<!-- ================= FIM CARROSSEL ================= -->




  <!-- ================= CARROSSEL DINÂMICO DE BANNERS ================= -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  fetch('../PHP/banners.php?listar=1')
    .then(response => response.json())
    .then(data => {
      if (!data.ok) return;
      const container = document.getElementById('bannersContainer');
      container.innerHTML = '';
      data.banners.forEach((banner, index) => {
        const activeClass = index === 0 ? 'active' : '';
        // Convertendo base64 para URL de imagem
        const imgSrc = banner.imagem ? `data:image/jpeg;base64,${banner.imagem}` : '../IMG/banner1.png';
        const item = `
          <div class="carousel-item ${activeClass}">
           <img src="${imgSrc}" class="d-block w-100 rounded" alt="${banner.nome}" style="height:700px; object-fit:cover;">
           <div class="carousel-caption d-none d-md-block">
           <h5 class="text-white">${banner.nome}</h5>
           <p class="text-white">${banner.situacao === 'sim' ? 'Promoção ' : ''}</p>
           </div>

          </div>
        `;
        container.innerHTML += item;
      });
    })
    .catch(err => console.error('Erro ao carregar banners:', err));
});
</script>
  <!-- ================= FIM CARROSSEL ================= -->

  <!-- ================= STATUS LOJA ================= -->
<section class="bg-custom text-white text-end px-3 py-2">
  <span id="statusLojaPublico" class="fw-bold text-success">
    <i class="bi bi-circle-fill"></i> Aberto
  </span>
</section>
<!-- ================= FIM STATUS ================= -->



  <!-- ================= PRODUTOS ================= -->
 <main class="container my-3">
  <div class="row">

    <!-- Coluna 1 - Espetos -->
    <div class="col-lg-4">
      <div class="d-flex flex-column gap-3">
        <div class="card h-100">
          <a href="../PAGINAS_CLIENTE/detalheproduto.html" class="text-dark text-decoration-none">
          <img src="../IMG/esp.carne.png" class="card-img-top" alt="Espetinho de fraldinha">
          <div class="card-body text-center">
            <h6 class="card-title">Espetinho de fraldinha</h6>
            <p class="text-muted">R$ 7,00</p>
            </a>
          </div>
        </div>
        <div class="card h-100">
          <img src="../IMG/esp.coracao.png" class="card-img-top" alt="Espetinho de coração">
          <div class="card-body text-center">
            <h6 class="card-title">Espetinho de coração</h6>
            <p class="text-muted">R$ 7,00</p>
          </div>
        </div>
        <div class="card h-100">
          <img src="../IMG/esp.carne.png" class="card-img-top" alt="Espeto de picanha">
          <div class="card-body text-center">
            <h6 class="card-title">Espeto de picanha</h6>
            <p class="text-muted">R$ 7,00</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Coluna 2 - Espetos -->
    <div class="col-lg-4">
      <div class="d-flex flex-column gap-3">
        <div class="card h-100">
          <img src="../IMG/esp.coracao.png" class="card-img-top" alt="Espetinho de coração">
          <div class="card-body text-center">
            <h6 class="card-title">Espetinho de coração</h6>
            <p class="text-muted">R$ 7,00</p>
          </div>
        </div>
        <div class="card h-100">
          <img src="../IMG/esp.carne.png" class="card-img-top" alt="Espeto de picanha">
          <div class="card-body text-center">
            <h6 class="card-title">Espeto de picanha</h6>
            <p class="text-muted">R$ 7,00</p>
          </div>
        </div>
        <div class="card h-100">
          <img src="../IMG/esp.coracao.png" class="card-img-top" alt="Espetinho de coração">
          <div class="card-body text-center">
            <h6 class="card-title">Espetinho de coração</h6>
            <p class="text-muted">R$ 7,00</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Coluna 3 - Bebidas -->
    <div class="col-lg-4">
      <div class="d-flex flex-column gap-3">
        <div class="card h-100">
          <img src="../IMG/cerveja.png" class="card-img-top" alt="Cerveja Skol">
          <div class="card-body text-center">
            <h6 class="card-title">Cerveja Skol</h6>
            <p class="text-muted">R$ 7,00</p>
          </div>
        </div>
        <div class="card h-100">
          <img src="../IMG/cerveja.png" class="card-img-top" alt="Cerveja Amstel">
          <div class="card-body text-center">
            <h6 class="card-title">Cerveja Amstel</h6>
            <p class="text-muted">R$ 7,00</p>
          </div>
        </div>
        <div class="card h-100">
          <img src="../IMG/cerveja.png" class="card-img-top" alt="Cerveja Corona">
          <div class="card-body text-center">
            <h6 class="card-title">Cerveja Corona</h6>
            <p class="text-muted">R$ 5,00</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</main>

  <!-- ================= FIM PRODUTOS ================= -->

  <!-- ================= RODAPÉ ================= -->
  <footer class="bg-custom text-white text-center py-2 mt-auto">
    <div class="container">
      <p class="mb-1 small">Desenvolvido por: Gabriela Borges de Sousa</p>
      <!-- Ícones sociais -->
      <div>
        <a href="#" class="text-white mx-2"><i class="bi bi-instagram"></i></a>
        <a href="#" class="text-white mx-2"><i class="bi bi-whatsapp"></i></a>
      </div>
    </div>
  </footer>
  <!-- ================= FIM RODAPÉ ================= -->

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const statusLojaPublico = document.getElementById('statusLojaPublico');

    // Busca status salvo pelo lojista
    const status = localStorage.getItem('statusLoja') || 'aberto';

    if (status === 'aberto') {
      statusLojaPublico.innerHTML = '<i class="bi bi-circle-fill"></i> Aberto';
      statusLojaPublico.classList.remove('text-danger');
      statusLojaPublico.classList.add('text-success');
    } else {
      statusLojaPublico.innerHTML = '<i class="bi bi-circle-fill"></i> Fechado';
      statusLojaPublico.classList.remove('text-success');
      statusLojaPublico.classList.add('text-danger');
    }
  });
</script>

<!-- ================= FIM STATUS LOJA (PÚBLICO) ================= -->


</body>
</html>